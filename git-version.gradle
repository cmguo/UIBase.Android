
ext.getGitVersion = {
    def gitRevision = "git -C ${project.getProjectDir()} log -1 --format=%h"
    println(gitRevision)
    gitRevision = gitRevision.execute().text.trim()
    println(gitRevision)
    return String.format("\"%s\"",gitRevision)
}

ext.getGitBranch = {
    def gitBranch = "git -C ${project.getProjectDir()} branch --show-current"
    println(gitBranch)
    gitBranch = gitBranch.execute().text.trim()
    println(gitBranch)
    return gitBranch
}

ext.build_version = ext.getGitVersion()
ext.build_branch = ext.getGitBranch()
